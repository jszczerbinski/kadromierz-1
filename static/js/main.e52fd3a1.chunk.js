(this.webpackJsonpkadromierz=this.webpackJsonpkadromierz||[]).push([[0],{36:function(e){e.exports=JSON.parse('{"a":[{"id":"l1","name":"Arkady"},{"id":"l2","name":"Pasa\u017c"},{"id":"l3","name":"Galeria"},{"id":"l4","name":"Magnolia"},{"id":"l5","name":"Korona"},{"id":"l6","name":"Marino"}]}')},37:function(e){e.exports=JSON.parse('{"a":[{"id":"r1","name":"Kucharz"},{"id":"r2","name":"Kelner"},{"id":"r3","name":"Pomoc"},{"id":"r4","name":"Kasjer"}]}')},38:function(e){e.exports=JSON.parse('{"a":[{"id":"c1","name":"Umowa o prac\u0119"},{"id":"c2","name":"Umowa o dzie\u0142o"},{"id":"c3","name":"Umowa zlecenie"}]}')},48:function(e){e.exports=JSON.parse('{"a":[{"id":0,"name":"Wszyscy","location":["l1","l2","l3","l4","l5","l6"],"role":["r1","r2","r3","r4"],"contract":["c1","c2","c3"]},{"id":1,"name":"Anna Nowak","location":["l1"],"role":["r1"],"contract":["c3"]},{"id":2,"name":"Kamil Pi\u0105tek","location":["l1","l3"],"role":["r2"],"contract":["c3"]},{"id":3,"name":"Iga \u015awi\u0105tek","location":["l1","l2","l3"],"role":["r1"],"contract":["c3"]},{"id":4,"name":"Adam Kowalski","location":["l1","l2","l4","l6"],"role":["r4"],"contract":["c2"]},{"id":5,"name":"Andrzej B\u0105czek","location":["l4","l6"],"role":["r4"],"contract":["c1"]},{"id":6,"name":"Agnieszka Kula","location":["l4","l5","l6"],"role":["r3"],"contract":["c2"]}]}')},73:function(e,t,a){e.exports=a(84)},78:function(e,t,a){},79:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(11),r=a.n(l),c=(a(78),a(79),a(14)),i=a(10),s=a(35),m=a(22),d=a(61),u=a(60),p=a(48),f=a(36),E=a(37),h=a(38),g=a(13),y=a(131),b=a(142),S=a(136),O=a(135),v=a(134),C=a(125),j=a(128),k=a(130),w=a(86),x=function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,display:"flex",justifyContent:"flex-end"}}},L=Object(C.a)(x),z=function(e){var t=e.handleOpenModal,a=L();return o.a.createElement("div",{className:a.root},o.a.createElement(j.a,{position:"static"},o.a.createElement(k.a,null,o.a.createElement(y.a,{color:"inherit",onClick:t},"Otw\xf3rz modal"),o.a.createElement(w.a,{edge:"end",variant:"h6",className:a.title},"Kadromierz"))))},N=a(138),D=function(e){return o.a.createElement(N.a,e)},F=function(e){return{formControl:{marginBottom:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1),minWidth:200,maxWidth:500},modal:{maxWidth:"90vw"},buttonStyle:{color:"#fff"},textField:Object(i.a)({marginLeft:"10px"},e.breakpoints.down("sm"),{marginLeft:0,marginTop:"5px"}),dataControls:Object(i.a)({marginBottom:e.spacing(3),marginLeft:e.spacing(1),marginRight:e.spacing(1),minWidth:200,maxWidth:500,display:"flex",justifyContent:"space-around"},e.breakpoints.down("sm"),{flexDirection:"column"})}},W=a(2),R=a(139),P=a(140),K=function(e){var t=e.selectedEmployees,a=Object(W.a)(e,["selectedEmployees"]);return o.a.createElement(R.a,Object.assign({required:!0,className:a.className,multiple:!0,variant:"outlined",limitTags:2,size:"small",onChange:a.onChange,options:a.options,renderOption:"selectEmployees"!==a.id?function(e,t){var a=t.selected;return o.a.createElement(o.a.Fragment,null,o.a.createElement(P.a,{checked:a}),e.name)}:function(e,a){var n=a.selected;return t.findIndex((function(e){return"Wszyscy"===e.name}))>-1&&(n=!0),o.a.createElement(o.a.Fragment,null,o.a.createElement(P.a,{checked:n}),e.name)},getOptionLabel:function(e){return e.name},renderInput:function(e){return o.a.createElement(D,Object.assign({},e,{variant:"standard",label:a.label,placeholder:"Search"}))}},a))},I=Object(C.a)(F),A=function(e){var t=e.setDate,a=e.setSelectedContracts,l=e.setSelectedLocations,r=e.setSelectedRoles,c=e.setSelectedEmployees,i=e.handleLoadingEmployees,s=e.handleSubmitForm,m=e.state,d=Object(n.useState)(!1),u=Object(g.a)(d,2),p=u[0],C=u[1],j=I(),k=function(){C(!1)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(z,{handleOpenModal:function(){C(!0)},handleCloseModal:k}),o.a.createElement(b.a,{open:p,onClose:k,"aria-labelledby":"form-dialog-title"},o.a.createElement(v.a,{id:"form-dialog-title"},"Wybierz pracownik\xf3w"),o.a.createElement(O.a,null,o.a.createElement("div",{className:j.dataControls},o.a.createElement(D,{id:"date_start",label:"Select start date",name:"startDate",type:"date",defaultValue:"2017-05-03",onChange:t,InputLabelProps:{shrink:!0}}),o.a.createElement(D,{id:"date_end",label:"Select end date",name:"endDate",type:"date",className:j.textField,onChange:t,defaultValue:m.startDate,InputLabelProps:{shrink:!0},InputProps:{inputProps:{min:m.startDate}}})),o.a.createElement(K,{id:"selectRoles",onChange:r,options:E.a,className:j.formControl,label:"Stanowiska"}),o.a.createElement(K,{id:"selectLocations",onChange:l,options:f.a,className:j.formControl,label:"Lokalizacje"}),o.a.createElement(K,{id:"selectEmployees",onOpen:i,onChange:c,options:m.filterEmployees,className:j.formControl,selectedEmployees:m.selectedEmployees,disableCloseOnSelect:!0,noOptionsText:"Nie znaleziono pracownik\xf3w",label:"Pracownicy"}),o.a.createElement(K,{id:"selectContracts",onChange:a,options:h.a,className:j.formControl,label:"Warunki zatrudnienia"})),o.a.createElement(S.a,null,o.a.createElement(y.a,{onClick:s,variant:"contained",color:"primary",type:"submit",className:j.buttonStyle},"Zatwierd\u017a"))))},B=a(45),J=a.n(B),M=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).setDate=function(t){return e.setState(Object(i.a)({},t.target.name,t.target.value))},e.setSelectedRoles=function(t,a){e.setState({selectedRoles:a.map((function(e){return e.id}))})},e.setSelectedContracts=function(t,a){e.setState({selectedContracts:a.map((function(e){return e.id}))})},e.setSelectedLocations=function(t,a){e.setState({selectedLocations:a.map((function(e){return e.id}))})},e.setSelectedEmployees=function(t,a){void 0!==a.find((function(e){return"Wszyscy"===e.name}))&&(a=e.state.filterEmployees),e.setState({selectedEmployees:a})},e.setFilterEmployees=function(t,a){return e.setState({filterEmployees:a})},e.handleLoadingEmployees=function(){var t=e.state,a=t.selectedContracts,n=t.selectedRoles,o=t.selectedLocations,l=[].concat(Object(c.a)(a),Object(c.a)(o),Object(c.a)(n)),r=e.state.allEmployees.filter((function(e){var t=[].concat(Object(c.a)(e.role),Object(c.a)(e.contract),Object(c.a)(e.location));return l.every((function(e){return t.includes(e)}))}));1===r.length&&(r=[]),e.setState({filterEmployees:r})},e.handleSubmitForm=function(){var t=e.state.selectedEmployees.filter((function(e){return 0!==e.id})),a=J.a.cloneDeep(t);a.map((function(e){var t=E.a.find((function(t){return t.id===e.role[0]}));e.role[0]=Object.assign({},t);var a=h.a.find((function(t){return t.id===e.contract[0]}));e.contract[0]=Object.assign({},a);var n=e.location.map((function(e){return f.a.find((function(t){return t.id===e}))}));e.location=Object(c.a)(n)})),console.log("Selected employees",a),console.log("Start date",e.state.startDate),console.log("End date",e.state.endDate)},e.state={startDate:"2017-05-03",endDate:"2017-05-03",selectedRoles:[],selectedContracts:[],selectedLocations:[],filterEmployees:J.a.cloneDeep(p.a),selectedEmployees:[],allEmployees:J.a.cloneDeep(p.a)},e}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement(A,{setDate:this.setDate,setSelectedContracts:this.setSelectedContracts,setSelectedLocations:this.setSelectedLocations,setSelectedRoles:this.setSelectedRoles,setFilterEmployees:this.setFilterEmployees,setSelectedEmployees:this.setSelectedEmployees,handleLoadingEmployees:this.handleLoadingEmployees,state:this.state,handleSubmitForm:this.handleSubmitForm})}}]),a}(o.a.PureComponent);var T=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(M,null))},G=a(59),U=a(137);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=Object(G.a)({palette:{primary:{main:"#ff9800",contrastText:"#fff"}}});r.a.render(o.a.createElement(U.a,{theme:V},o.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.e52fd3a1.chunk.js.map